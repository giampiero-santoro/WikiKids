<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ• L'Avventura del Cibo! ğŸ”</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600;700&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            font-family:'Quicksand',sans-serif;
            background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
            min-height:100vh;
            position:relative;
            overflow-x:hidden;
        }

        /* â”€â”€ bubbles â”€â”€ */
        .bubble {
            position:fixed; border-radius:50%;
            background:rgba(255,255,255,0.1);
            animation:float 8s infinite ease-in-out;
            pointer-events:none; z-index:0;
        }
        @keyframes float {
            0%,100%{transform:translateY(0) rotate(0deg)}
            50%{transform:translateY(-20px) rotate(180deg)}
        }

        .container { max-width:1200px; margin:0 auto; padding:20px; position:relative; z-index:1; }

        /* â”€â”€ nav bar â”€â”€ */
        .wk-nav {
            position:fixed; top:18px; left:50%;
            transform:translateX(-50%);
            z-index:9999; display:flex; gap:12px;
            animation:navSlideDown 0.6s cubic-bezier(0.175,0.885,0.32,1.275) both;
        }
        @keyframes navSlideDown {
            from{transform:translateX(-50%) translateY(-60px);opacity:0}
            to  {transform:translateX(-50%) translateY(0);    opacity:1}
        }
        .wk-nav a {
            display:flex; align-items:center; gap:8px;
            text-decoration:none; color:white;
            font-family:'Quicksand',sans-serif; font-weight:700; font-size:1rem;
            padding:10px 20px; border-radius:50px;
            background:rgba(30,30,60,0.55);
            backdrop-filter:blur(14px); -webkit-backdrop-filter:blur(14px);
            border:1px solid rgba(255,255,255,0.18);
            box-shadow:0 4px 20px rgba(0,0,0,0.25);
            transition:all 0.3s ease; user-select:none;
        }
        .wk-nav a:hover { background:rgba(30,30,60,0.78); transform:translateY(-2px); box-shadow:0 6px 28px rgba(0,0,0,0.35); }
        .wk-nav a:active { transform:translateY(0); }
        .wk-nav .nav-icon { font-size:1.2rem; line-height:1; }

        /* â”€â”€ header â”€â”€ */
        header {
            text-align:center; padding:40px 20px;
            background:linear-gradient(135deg,#E8613C,#FF8C42,#F4A261);
            border-radius:30px;
            box-shadow:0 20px 60px rgba(0,0,0,0.3);
            margin-bottom:40px;
            animation:slideDown 1s ease-out;
        }
        @keyframes slideDown {
            from{transform:translateY(-100px);opacity:0}
            to{transform:translateY(0);opacity:1}
        }

        h1 {
            font-family:'Fredoka',sans-serif; font-size:4rem; font-weight:700;
            color:white; text-shadow:4px 4px 0 rgba(0,0,0,0.3);
            letter-spacing:2px; margin-bottom:10px;
        }
        .subtitle { font-size:1.5rem; color:#FFE66D; font-weight:700; }

        /* â”€â”€ tabs â”€â”€ */
        .tabs { display:flex; gap:15px; margin-bottom:30px; flex-wrap:wrap; justify-content:center; }
        .tab {
            padding:15px 30px; background:white; border:none; border-radius:20px;
            font-family:'Quicksand',sans-serif; font-weight:700; font-size:1.1rem;
            cursor:pointer; transition:all .3s ease;
            box-shadow:0 5px 15px rgba(0,0,0,0.2);
        }
        .tab:hover { transform:translateY(-5px) scale(1.05); box-shadow:0 10px 25px rgba(0,0,0,0.3); }
        .tab.active {
            background:linear-gradient(135deg,#FF8C42,#F4A261);
            color:white; transform:scale(1.1);
        }

        /* â”€â”€ content panels â”€â”€ */
        .content { display:none; animation:fadeIn .5s ease-in; }
        .content.active { display:block; }
        @keyframes fadeIn {
            from{opacity:0;transform:translateY(20px)}
            to{opacity:1;transform:translateY(0)}
        }

        /* â”€â”€ cards â”€â”€ */
        .card {
            background:white; border-radius:25px; padding:30px;
            margin-bottom:25px; box-shadow:0 10px 40px rgba(0,0,0,0.2);
            transition:transform .3s ease;
        }
        .card:hover { transform:translateY(-5px); }
        .card h2 {
            font-family:'Fredoka',sans-serif; font-size:2.5rem; font-weight:700;
            color:#E8613C; margin-bottom:20px;
            text-shadow:2px 2px 0 rgba(0,0,0,0.08);
        }
        .card h3 { font-size:1.8rem; color:#F4A261; margin:20px 0 10px; font-weight:700; }
        .card p { font-size:1.2rem; line-height:1.8; color:#333; margin-bottom:15px; }

        /* â”€â”€ fun-fact boxes â”€â”€ */
        .fun-fact {
            background:linear-gradient(135deg,#E8613C,#FF8C42);
            color:white; padding:25px; border-radius:20px;
            margin:20px 0; border-left:8px solid #FFE66D;
            font-size:1.2rem; font-weight:600;
        }
        .fun-fact::before {
            content:"ğŸ’¡ Lo sapevi?"; display:block;
            font-family:'Fredoka',sans-serif; font-size:1.8rem;
            font-weight:700; margin-bottom:10px;
        }

        /* â”€â”€ explore map â”€â”€ */
        .digestive-system {
            position:relative; height:800px;
            background:linear-gradient(180deg,#FFF3E0 0%,#FFF8E7 100%);
            border-radius:25px; padding:30px; margin:30px 0;
        }

        .organ {
            position:absolute; cursor:pointer; transition:all .3s ease;
            padding:15px; border-radius:15px;
            background:rgba(255,255,255,0.9);
            border:3px solid transparent; font-weight:700;
            font-family:'Quicksand',sans-serif; font-size:1.05rem;
            box-shadow:0 4px 12px rgba(0,0,0,0.15); z-index:2;
            user-select:none;
        }
        .organ:hover {
            transform:scale(1.1);
            border-color:#E8613C;
            box-shadow:0 10px 30px rgba(232,97,60,0.5);
            z-index:10;
        }
        .organ.clicked { background:#FFE66D; animation:pop .4s ease; }
        @keyframes pop { 0%,100%{transform:scale(1)} 50%{transform:scale(1.18)} }

        .mouth           { top:50px;  left:42%; background:#FFDAB9; }
        .esophagus       { top:160px; left:44%; background:#FFE0B2; }
        .stomach         { top:300px; left:38%; background:#FF8A65; }
        .small-intestine { top:440px; left:25%; background:#FFCC80; width:180px; text-align:center; }
        .large-intestine { top:620px; left:42%; background:#FFE082; }

        .info-box {
            position:absolute; background:white;
            border:4px solid #E8613C; border-radius:20px;
            padding:20px; max-width:320px; display:none;
            box-shadow:0 15px 50px rgba(0,0,0,0.28);
            z-index:100; animation:popIn .3s ease;
        }
        @keyframes popIn { from{transform:scale(0);opacity:0} to{transform:scale(1);opacity:1} }
        .info-box.show { display:block; }
        .info-box h4 {
            font-family:'Fredoka',sans-serif; font-size:1.7rem;
            font-weight:700; color:#E8613C; margin-bottom:8px;
        }
        .info-box p { font-size:1.05rem; line-height:1.6; color:#333; margin-bottom:6px; }

        /* â”€â”€ quiz â”€â”€ */
        .quiz-container {
            background:linear-gradient(135deg,#FF8C42,#F4A261);
            padding:40px; border-radius:25px; color:white;
        }
        .quiz-question { font-size:1.8rem; font-weight:700; margin-bottom:25px; }
        .quiz-options { display:grid; gap:15px; }
        .quiz-option {
            background:white; color:#333; padding:20px; border-radius:15px;
            cursor:pointer; transition:all .3s ease; font-size:1.2rem;
            font-weight:600; border:3px solid transparent;
        }
        .quiz-option:hover { transform:translateX(10px); border-color:#FFE66D; }
        .quiz-option.correct { background:#4CAF50; color:white; animation:celebrate .6s ease; }
        .quiz-option.wrong   { background:#F44336; color:white; animation:shake .5s ease; }
        @keyframes celebrate { 0%,100%{transform:rotate(0)} 25%{transform:rotate(-5deg)} 75%{transform:rotate(5deg)} }
        @keyframes shake { 0%,100%{transform:translateX(0)} 25%{transform:translateX(-10px)} 75%{transform:translateX(10px)} }
        .score { text-align:center; font-size:2rem; margin-top:20px; font-weight:700; }
        .congrats { text-align:center; font-size:2.8rem; margin:30px 0; animation:rainbow 3s infinite; }
        @keyframes rainbow {
            0%{color:#E8613C} 25%{color:#FF8C42}
            50%{color:#FFE66D} 75%{color:#F4A261} 100%{color:#E8613C}
        }

        /* â”€â”€ memory game â”€â”€ */
        .memory-game {
            display:grid; grid-template-columns:repeat(4,1fr);
            gap:15px; padding:30px; background:white; border-radius:25px;
        }
        .memory-card {
            aspect-ratio:1;
            background:linear-gradient(135deg,#E8613C,#FF8C42);
            border-radius:15px; cursor:pointer;
            display:flex; align-items:center; justify-content:center;
            font-size:2.8rem; transition:transform .4s ease;
            transform-style:preserve-3d; position:relative;
        }
        .memory-card:hover { transform:scale(1.05); }
        .memory-card.flipped { transform:rotateY(180deg); }
        .memory-card .front,
        .memory-card .back {
            position:absolute; width:100%; height:100%;
            backface-visibility:hidden;
            display:flex; align-items:center; justify-content:center;
            border-radius:15px;
        }
        .memory-card .back { background:white; transform:rotateY(180deg); }

        /* â”€â”€ buttons â”€â”€ */
        button {
            background:linear-gradient(135deg,#E8613C,#FF8C42);
            color:white; border:none; padding:15px 30px;
            font-size:1.2rem; font-weight:700; border-radius:15px;
            cursor:pointer; transition:all .3s ease;
            box-shadow:0 5px 15px rgba(0,0,0,0.3);
            font-family:'Quicksand',sans-serif;
        }
        button:hover { transform:translateY(-3px); box-shadow:0 8px 20px rgba(0,0,0,0.4); }

        /* â”€â”€ footer â”€â”€ */
        footer {
            text-align:center; padding:30px 20px; margin-top:50px;
            background:rgba(255,255,255,0.1); border-radius:20px;
            color:white; font-size:.9rem;
        }
        footer p { margin-bottom:10px; }
        footer a { color:#FFE66D; text-decoration:none; font-weight:700; }

        /* â”€â”€ responsive â”€â”€ */
        @media(max-width:768px){
            h1{font-size:2.5rem}
            .subtitle{font-size:1.2rem}
            .digestive-system{height:auto;min-height:600px}
            .organ{position:relative!important;top:auto!important;left:auto!important;margin:8px auto;display:block;width:fit-content}
            .info-box{position:relative!important;top:auto!important;right:auto!important;margin:10px 0;max-width:100%}
            .memory-game{grid-template-columns:repeat(3,1fr)}
        }
    </style>
</head>
<body>
<div class="bubble" style="width:100px;height:100px;top:10%;left:10%"></div>
<div class="bubble" style="width:150px;height:150px;top:60%;left:80%;animation-delay:2s"></div>
<div class="bubble" style="width:80px;height:80px;top:80%;left:20%;animation-delay:4s"></div>
<div class="bubble" style="width:120px;height:120px;top:30%;left:70%;animation-delay:1s"></div>

<!-- back / home nav -->
<nav class="wk-nav">
    <a href="javascript:history.back()" aria-label="Torna indietro">
        <span class="nav-icon">â†</span> Indietro
    </a>
    <a href="index_unified.html" aria-label="Homepage">
        <span class="nav-icon">ğŸ </span> Home
    </a>
</nav>

<div class="container">
    <header>
        <h1>ğŸ• L'AVVENTURA DEL CIBO! ğŸ”</h1>
        <p class="subtitle">Scopri il fantastico viaggio che fa il cibo nel tuo corpo!</p>
    </header>

    <div class="tabs">
        <button class="tab active" onclick="showTab('impara')">ğŸ“š Impara</button>
        <button class="tab" onclick="showTab('esplora')">ğŸ” Esplora</button>
        <button class="tab" onclick="showTab('quiz')">ğŸ¯ Quiz</button>
        <button class="tab" onclick="showTab('gioca')">ğŸ® Gioca</button>
    </div>

    <!-- ============================================================ IMPARA ============================================================ -->
    <div id="impara" class="content active">
        <div class="card">
            <h2>ğŸ¢ Il Viaggio Incredibile del Cibo!</h2>
            <p>Ogni volta che mangi una pizza, un panino o una mela, il cibo fa un viaggio fantastico dentro il tuo corpo! Questo viaggio puÃ² durare anche 2-3 giorni! Vediamo insieme tutte le fermate...</p>
        </div>

        <div class="card">
            <h3>1. ğŸ‘„ LA BOCCA - La Prima Fermata!</h3>
            <p>Qui inizia tutto! I tuoi denti sono come piccoli trituratori che sminuzzano il cibo. La lingua lo mescola con la saliva (una specie di acqua speciale) che lo rende piÃ¹ morbido. Quando Ã¨ pronto, diventa una pallina morbida chiamata <strong>BOLO</strong> - che nome buffo, vero?</p>
            <div class="fun-fact">
                Ogni giorno produci circa 1 litro di saliva! Ãˆ come una piccola bottiglia d'acqua! ğŸ’§
            </div>
        </div>

        <div class="card">
            <h3>2. ğŸª L'ESOFAGO - Il Tunnel Magico</h3>
            <p>L'esofago Ã¨ un tubo lungo circa 24 cm (come un righello!) che porta il cibo dalla bocca allo stomaco. Ãˆ talmente forte che potresti mangiare anche a testa in giÃ¹ e il cibo arriverebbe comunque giÃ¹! Come fa? Usa dei movimenti speciali chiamati <strong>peristalsi</strong> - come onde che spingono il cibo!</p>
            <div class="fun-fact">
                Il cibo impiega solo 6-8 secondi per scivolare dall'esofago allo stomaco! Ãˆ velocissimo! âš¡
            </div>
        </div>

        <div class="card">
            <h3>3. ğŸ«— LO STOMACO - Il Laboratorio Chimico</h3>
            <p>Lo stomaco Ã¨ come un sacchetto elastico che puÃ² contenere fino a 2 litri di cibo! Qui il cibo viene mescolato con i <strong>succhi gastrici</strong> - liquidi speciali che lo scompongono. Ci sono enzimi come la <strong>pepsina</strong> che rompono le proteine e l'acido cloridrico che uccide i batteri cattivi. Il cibo rimane qui per 2-4 ore e diventa una pappa chiamata <strong>CHIMO</strong>.</p>
            <div class="fun-fact">
                Il tuo stomaco ha una temperatura di 37Â°C (come la febbre!) e l'aciditÃ  Ã¨ fortissima - ma non ti fa male perchÃ© Ã¨ protetto da uno strato di muco! ğŸ›¡ï¸
            </div>
        </div>

        <div class="card">
            <h3>4. ğŸŒ€ L'INTESTINO TENUE - La Strada Lunga</h3>
            <p>Questo Ã¨ il pezzo piÃ¹ lungo! Ãˆ lungo piÃ¹ di 7 metri (come 3 persone sdraiate una dopo l'altra!). Qui arrivano aiuti speciali:</p>
            <p>ğŸŸ¡ <strong>La BILE</strong> dal fegato - che rende i grassi piÃ¹ piccoli</p>
            <p>ğŸ”µ <strong>Il SUCCO PANCREATICO</strong> - pieno di enzimi super potenti</p>
            <p>ğŸŸ¢ <strong>Il SUCCO ENTERICO</strong> - che finisce il lavoro</p>
            <p>Qui tutte le sostanze buone (vitamine, proteine, zuccheri) vengono assorbite e vanno nel sangue per dare energia a tutto il corpo! Le pareti sono piene di piccoli "diti" chiamati <strong>villi intestinali</strong> che catturano i nutrienti.</p>
            <div class="fun-fact">
                Se stirassimo tutti i villi intestinali, coprirebbero un campo da tennis! ğŸ¾
            </div>
        </div>

        <div class="card">
            <h3>5. ğŸ’© L'INTESTINO CRASSO - L'Ultima Fermata</h3>
            <p>Lungo circa 2 metri, questo pezzo dell'intestino recupera l'acqua e prepara quello che non serve piÃ¹ per uscire. Qui vivono miliardi di batteri buoni che ci aiutano! Alla fine, quello che resta diventa <strong>FECI</strong> (cacca) e viene eliminato dal corpo attraverso l'ano.</p>
            <div class="fun-fact">
                Nel tuo intestino vivono piÃ¹ batteri buoni di quante persone ci sono sulla Terra! Sono i tuoi amici microscopici! ğŸ¦ 
            </div>
        </div>

        <div class="card">
            <h2>â±ï¸ Tempo Totale del Viaggio</h2>
            <p>Dal momento in cui mangi una mela fino a quando esce dalla "porta di uscita", passano dalle 24 alle 72 ore! Questo significa che quel panino che hai mangiato a colazione potrebbe ancora essere dentro di te domani!</p>
        </div>
    </div>

    <!-- ============================================================ ESPLORA ============================================================ -->
    <div id="esplora" class="content">
        <div class="card">
            <h2>ğŸ” Esplora l'Apparato Digerente!</h2>
            <p>Clicca su ogni organo per scoprire i suoi segreti!</p>

            <div class="digestive-system">
                <div class="organ mouth" onclick="showInfo('mouth')">ğŸ‘„ BOCCA</div>
                <div class="organ esophagus" onclick="showInfo('esophagus')">ğŸª ESOFAGO</div>
                <div class="organ stomach" onclick="showInfo('stomach')">ğŸ«— STOMACO</div>
                <div class="organ small-intestine" onclick="showInfo('small')">ğŸŒ€ INTESTINO TENUE</div>
                <div class="organ large-intestine" onclick="showInfo('large')">ğŸ’© INTESTINO CRASSO</div>

                <div id="info-mouth" class="info-box" style="top:40px;right:40px">
                    <h4>ğŸ‘„ LA BOCCA</h4>
                    <p>ğŸ¦· 32 denti ti aiutano a masticare</p>
                    <p>ğŸ‘… La lingua mescola il cibo</p>
                    <p>ğŸ’§ La saliva rende tutto morbido</p>
                    <p>ğŸ¯ Tempo: 15-30 secondi</p>
                </div>
                <div id="info-esophagus" class="info-box" style="top:150px;right:40px">
                    <h4>ğŸª L'ESOFAGO</h4>
                    <p>ğŸ“ Lungo 24 cm</p>
                    <p>ğŸŒŠ Usa la peristalsi per spingere</p>
                    <p>âš¡ VelocitÃ : 6-8 secondi</p>
                    <p>ğŸ¢ Puoi mangiare a testa in giÃ¹!</p>
                </div>
                <div id="info-stomach" class="info-box" style="top:290px;right:40px">
                    <h4>ğŸ«— LO STOMACO</h4>
                    <p>ğŸŒ¡ï¸ Temperatura: 37Â°C</p>
                    <p>âš—ï¸ pH 3.5 (molto acido!)</p>
                    <p>â° Il cibo resta 2-4 ore</p>
                    <p>ğŸ§ª Produce 2 litri di succhi al giorno</p>
                </div>
                <div id="info-small" class="info-box" style="top:430px;right:40px">
                    <h4>ğŸŒ€ INTESTINO TENUE</h4>
                    <p>ğŸ“ Lunghezza: 7 metri!</p>
                    <p>ğŸ¯ Assorbe 90% dei nutrienti</p>
                    <p>ğŸ‘† Pieno di villi intestinali</p>
                    <p>â±ï¸ Il cibo resta 3-5 ore</p>
                </div>
                <div id="info-large" class="info-box" style="top:610px;right:40px">
                    <h4>ğŸ’© INTESTINO CRASSO</h4>
                    <p>ğŸ“ Lunghezza: 2 metri</p>
                    <p>ğŸ’§ Recupera l'acqua</p>
                    <p>ğŸ¦  Casa di miliardi di batteri buoni</p>
                    <p>â° Il cibo resta 12-48 ore</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================ QUIZ ============================================================ -->
    <div id="quiz" class="content">
        <div class="card">
            <div class="quiz-container">
                <h2 style="color:white;margin-bottom:30px">ğŸ¯ Metti alla Prova le Tue Conoscenze!</h2>
                <div id="quiz-content">
                    <div class="quiz-question" id="question"></div>
                    <div class="quiz-options" id="options"></div>
                </div>
                <div class="score" id="score">Punteggio: 0/0</div>
                <button onclick="resetQuiz()" style="margin-top:20px">ğŸ”„ Ricomincia Quiz</button>
            </div>
        </div>
    </div>

    <!-- ============================================================ GIOCA ============================================================ -->
    <div id="gioca" class="content">
        <div class="card">
            <h2>ğŸ® Memory Game - Trova le Coppie!</h2>
            <p>Trova le coppie di organi uguali! Clicca su due carte per girarle.</p>
            <div class="memory-game" id="memory-game"></div>
            <div style="text-align:center;margin-top:20px">
                <button onclick="initMemoryGame()">ğŸ”„ Nuova Partita</button>
                <div id="moves" style="margin-top:15px;font-size:1.5rem;font-weight:700">Mosse: 0</div>
            </div>
        </div>

        <div class="card" style="margin-top:30px">
            <h2>ğŸ¨ Colora e Impara!</h2>
            <p>Sai nominare tutti gli organi? Scrivi qui sotto cosa hai imparato oggi!</p>
            <textarea style="width:100%;height:150px;font-size:1.2rem;padding:15px;border-radius:15px;border:3px solid #F4A261;font-family:'Quicksand',sans-serif" placeholder="Scrivi qui la cosa piÃ¹ interessante che hai imparato oggi sull'apparato digerente! ğŸ‰"></textarea>
        </div>
    </div>

    <!-- footer -->
    <footer>
        <p>ğŸ“š Informazioni scientifiche basate su contenuti di <a href="https://it.wikipedia.org/wiki/Apparato_digerente" target="_blank">Wikipedia â€” Apparato Digerente</a></p>
        <p style="font-size:.8rem;opacity:.8">Contenuti rilasciati sotto licenza Creative Commons Attribution-ShareAlike 3.0</p>
        <p style="margin-top:15px;font-size:1.2rem">ğŸ’¡ Creato per imparare divertendosi! ğŸ‰</p>
    </footer>
</div>

<!-- ============================================================ JS ============================================================ -->
<script>
    // â”€â”€ tabs â”€â”€
    function showTab(tabName) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
        event.target.classList.add('active');
        document.getElementById(tabName).classList.add('active');
    }

    // â”€â”€ explore â”€â”€
    let currentInfo = null;
    function showInfo(organId) {
        const infoBox = document.getElementById('info-' + organId);
        const organ = event.target;
        if (currentInfo && currentInfo !== infoBox) currentInfo.classList.remove('show');
        if (infoBox.classList.contains('show')) {
            infoBox.classList.remove('show'); currentInfo = null;
        } else {
            infoBox.classList.add('show');
            organ.classList.add('clicked');
            setTimeout(() => organ.classList.remove('clicked'), 400);
            currentInfo = infoBox;
        }
    }

    // â”€â”€ quiz â”€â”€
    const Q = [
        { q:"Come si chiama la pallina di cibo che si forma in bocca?", o:["Bolo","Chimo","Pizza","Pallina magica"], c:0 },
        { q:"Quanto Ã¨ lungo l'intestino tenue?", o:["1 metro","3 metri","PiÃ¹ di 7 metri","100 metri"], c:2 },
        { q:"Quanto tempo impiega il cibo per attraversare l'esofago?", o:["1 minuto","6-8 secondi","1 ora","5 minuti"], c:1 },
        { q:"Qual Ã¨ la temperatura dello stomaco?", o:["20Â°C","50Â°C","37Â°C","100Â°C"], c:2 },
        { q:"Cosa fa la bile?", o:["Rende i grassi piÃ¹ piccoli","Fa ridere","Colora il cibo","Lo rende dolce"], c:0 },
        { q:"Quanta saliva produci ogni giorno?", o:["1 cucchiaio","1 litro","10 litri","Niente"], c:1 },
        { q:"Come si chiamano i piccoli 'diti' nell'intestino tenue?", o:["Ditini","Villi intestinali","Peli magici","Antenne"], c:1 },
        { q:"Quanto tempo resta il cibo nello stomaco?", o:["5 minuti","10 ore","2-4 ore","2 giorni"], c:2 }
    ];
    let qi = 0, sc = 0;

    function loadQ() {
        if (qi >= Q.length) { showRes(); return; }
        const q = Q[qi];
        document.getElementById('question').textContent = q.q;
        const d = document.getElementById('options'); d.innerHTML = '';
        q.o.forEach((o, i) => {
            const b = document.createElement('div');
            b.className = 'quiz-option'; b.textContent = o;
            b.onclick = () => check(i); d.appendChild(b);
        });
        document.getElementById('score').textContent = 'Punteggio: ' + sc + '/' + qi;
    }

    function check(sel) {
        const q = Q[qi], opts = document.querySelectorAll('.quiz-option');
        if (sel === q.c) { opts[sel].classList.add('correct'); sc++; setTimeout(() => { qi++; loadQ(); }, 1500); }
        else { opts[sel].classList.add('wrong'); opts[q.c].classList.add('correct'); setTimeout(() => { qi++; loadQ(); }, 2000); }
    }

    function showRes() {
        const pct = (sc / Q.length) * 100;
        const msg = pct === 100 ? 'ğŸ† PERFETTO! Sei un genio dell\'apparato digerente! ğŸŒŸ'
                  : pct >= 70  ? 'ğŸ‰ Bravissimo! Hai imparato tantissimo! ğŸ‘'
                  : pct >= 50  ? 'ğŸ˜Š Buon lavoro! Continua a studiare! ğŸ“š'
                  :              'ğŸ’ª Dai, riprova! Diventerai un esperto! ğŸš€';
        document.getElementById('quiz-content').innerHTML =
            '<div style="text-align:center">' +
            '<h2 class="congrats">' + msg + '</h2>' +
            '<p style="font-size:2.5rem;margin:30px 0">Hai risposto correttamente a ' + sc + ' domande su ' + Q.length + '!</p>' +
            '<p style="font-size:3rem">' + (pct >= 70 ? 'ğŸŠğŸ‰ğŸˆ' : 'ğŸ“–ğŸ’¡ğŸ§ ') + '</p></div>';
    }

    function resetQuiz() {
        qi = 0; sc = 0;
        document.getElementById('quiz-content').innerHTML =
            '<div class="quiz-question" id="question"></div><div class="quiz-options" id="options"></div>';
        loadQ();
    }

    // â”€â”€ memory game â”€â”€
    const CARDS = ['ğŸ‘„','ğŸ«—','ğŸŒ€','ğŸ’©','ğŸ¦·','ğŸ§ª','ğŸ¯','âš¡'];
    let flipped = [], matched = 0, moves = 0;

    function initMemoryGame() {
        matched = 0; moves = 0; flipped = [];
        const deck = [...CARDS, ...CARDS].sort(() => Math.random() - 0.5);
        const g = document.getElementById('memory-game'); g.innerHTML = '';
        deck.forEach(e => {
            const c = document.createElement('div');
            c.className = 'memory-card';
            c.innerHTML = '<div class="front">â“</div><div class="back">' + e + '</div>';
            c.dataset.emoji = e; c.onclick = flipCard; g.appendChild(c);
        });
        document.getElementById('moves').textContent = 'Mosse: 0';
    }

    function flipCard() {
        if (flipped.length === 2) return;
        if (this.classList.contains('flipped')) return;
        this.classList.add('flipped'); flipped.push(this);
        if (flipped.length === 2) {
            moves++; document.getElementById('moves').textContent = 'Mosse: ' + moves;
            const [a, b] = flipped;
            if (a.dataset.emoji === b.dataset.emoji) {
                matched++; flipped = [];
                if (matched === CARDS.length) setTimeout(() => alert('ğŸ‰ HAI VINTO! Completato in ' + moves + ' mosse! ğŸ†'), 500);
            } else setTimeout(() => { a.classList.remove('flipped'); b.classList.remove('flipped'); flipped = []; }, 1000);
        }
    }

    // init
    loadQ();
    initMemoryGame();
</script>
</body>
</html>
